<style>
  .wnc-cookie-banner {
    background-color: #e5e7eb;
    border-bottom: 1px solid #999999;
    box-sizing: border-box;
  }
  .wnc-cookie-hidden {
    display: none;
  }
  .wnc-cookie-show {
    display: block;
  }
  .wnc-cookie-banner-container {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    max-width: 76rem;
    width: 100%;
    margin: 0 auto;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 1rem;
  }
  .wnc-cookie-title {
    font-weight: bold;
    font-size: 1.125rem;
    line-height: 1.5rem;
  }
  .wnc-cookie-banner p {
    margin: 0 0 1rem 0;
    color: black;
    font-size: 1rem;
    line-height: 1.25rem;
  }
  .wnc-cookie-link {
    color: #385889;
    text-decoration: underline;
  }
  .wnc-cookie-link:hover {
    text-decoration: dotted;
    cursor: pointer;
  }
  .wnc-cookie-buttons {
    display: flex;
    flex-direction: row;
    justify-content: start;
    flex-wrap: wrap;
  }
  .wnc-cookie-button {
    text-decoration: none;
    color: white;
    background-color: #385889;
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    margin-right: 1rem;
    outline: none;
    border: none;
    font-size: 1rem;
  }
  .wnc-cookie-button:hover {
    background-color: #0e335b;
    cursor: pointer;
  }
  .wnc-cookie-button:focus,
  .wnc-cookie-button:active {
    background-color: #e2ca76;
    color: black;
  }
  [x-cloak] {
    display: none !important;
  }
</style>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }

  if (localStorage.getItem("wncCookieConsentMode") === null) {
    gtag("consent", "default", {
      ad_storage: "denied",
      analytics_storage: "denied",
      personalization_storage: "denied",
      functionality_storage: "denied",
      security_storage: "denied",
    });
  } else {
    gtag(
      "consent",
      "default",
      JSON.parse(localStorage.getItem("wncCookieConsentMode"))
    );
  }
</script>
<!-- Google tag (gtag.js) -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=GOOGLE_ANALYTICS_ID"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "GOOGLE_ANALYTICS_ID");
</script>

<div
  class="wnc-cookie-banner"
  x-cloak
  x-data="{hide_banner: true, 
        setConsent(consent) {
          const wncCookieConsentMode = {
            'functionality_storage':  consent ? 'granted' : 'denied',
            'security_storage':  consent ? 'granted' : 'denied',
            'ad_storage': 'denied',
            'analytics_storage': consent ? 'granted' : 'denied',
            'personalization': 'denied',
          };
          gtag('consent', 'update', consent);  
          localStorage.setItem('wncCookieConsentMode', JSON.stringify(wncCookieConsentMode));
        }
      }"
  x-init="hide_banner = localStorage.getItem('wncCookieConsentMode') !== null"
  x-bind:class="{ 'wnc-cookie-hidden': hide_banner, 'wnc-cookie-show': !hide_banner }"
>
  <div class="wnc-cookie-banner-container">
    <p class="wnc-cookie-title">
      We use cookies on this site to enhance your user experience
    </p>

    <p>
      By clicking the Accept button, you agree to us doing so. More info on our
      <a href="LINK_TO_COOKIE_POLICY" class="wnc-cookie-link">cookie policy</a>
    </p>

    <div class="wnc-cookie-buttons">
      <div>
        <button
          class="wnc-cookie-button"
          @click="hide_banner = true; setConsent(true);"
        >
          Accept all cookies
        </button>
      </div>
      <div>
        <button
          class="wnc-cookie-button"
          @click="hide_banner = true; setConsent(false);"
        >
          Reject all cookies
        </button>
      </div>
    </div>
  </div>
</div>
<script src="//unpkg.com/alpinejs" defer></script>
